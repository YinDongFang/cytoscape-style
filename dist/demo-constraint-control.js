let defaultStylesheet=[{selector:"node",style:{"background-color":"#bdd3d4",label:"data(id)","text-valign":"center","background-opacity":.7}},{selector:":parent",style:{"background-color":"#e8e8e8","border-color":"#DADADA","text-valign":"bottom"}},{selector:"edge",style:{"curve-style":"straight","line-color":"#bdd3d4"}},{selector:"node:selected",style:{"background-color":"#33ff00","border-color":"#22ee00"}},{selector:"node.fixed",style:{shape:"diamond","background-color":"#9D9696"}},{selector:"node.fixed:selected",style:{"background-color":"#33ff00"}},{selector:"node.alignment",style:{shape:"round-heptagon","background-color":"#fef2d1"}},{selector:"node.alignment:selected",style:{"background-color":"#33ff00"}},{selector:"node.relative",style:{shape:"rectangle","background-color":"#fed3d1"}},{selector:"node.relative:selected",style:{"background-color":"#33ff00"}},{selector:"edge:selected",style:{"line-color":"#33ff00"}}],cy=window.cy=cytoscape({container:document.getElementById("cy"),ready:function(){this.layoutUtilities({desiredAspectRatio:this.width()/this.height()}),this.nodes().forEach((function(t){let e=40*Math.random()+30;t.css("width",e),t.css("height",e)}));let t=this.layout({name:"fcose",step:"all",animationEasing:"ease-out"});t.pon("layoutstart").then((function(t){constraints.fixedNodeConstraint=JSON.parse(JSON.stringify(sample1_constraints.fixedNodeConstraint)),clearConstraintListTable(),fillConstraintListTableFromConstraints()})),t.run()},layout:{name:"preset"},style:defaultStylesheet,elements:{nodes:[{data:{id:"n1"}},{data:{id:"n2"}},{data:{id:"n3",parent:"n8"}},{data:{id:"n5"}},{data:{id:"n6",parent:"n8"}},{data:{id:"n7",parent:"n8"}},{data:{id:"n8"}},{data:{id:"f1"},classes:["fixed"]},{data:{id:"f2"},classes:["fixed"]},{data:{id:"f3",parent:"n8"},classes:["fixed"]}],edges:[{data:{source:"n1",target:"f1"}},{data:{source:"n1",target:"n3"}},{data:{source:"f1",target:"n2"}},{data:{source:"f1",target:"n3"}},{data:{source:"n3",target:"f2"}},{data:{source:"f2",target:"n5"}},{data:{source:"n5",target:"n8"}},{data:{source:"n6",target:"n3"}},{data:{source:"n6",target:"n7"}},{data:{source:"n6",target:"f3"}}]},wheelSensitivity:.3}),constraints={fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0};document.getElementById("openFile").addEventListener("click",(function(){document.getElementById("inputFile").click()})),$("body").on("change","#inputFile",(function(t,e){var n=this.files[0]||e;if(n){var a=n.name.split(".").pop(),o=new FileReader;o.onload=function(t){cy.remove(cy.elements());var e=t.target.result;"graphml"==a||"xml"==a?(cy.graphml({layoutBy:"null"}),cy.graphml(e)):"json"==a?cy.json({elements:JSON.parse(e)}):cy.tsv().importTo(e)},o.addEventListener("loadend",(function(){onLoad(),clearConstraintListTable(),constraints.fixedNodeConstraint=void 0,constraints.alignmentConstraint=void 0,constraints.relativePlacementConstraint=void 0,document.getElementById("nodeList").addEventListener("change",(function(){document.getElementById("fixedNodeX").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("x")),document.getElementById("fixedNodeY").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("y"))}))})),o.readAsText(n)}else alert("Failed to load file");$("#inputFile").val(null)}));let updateGraphStyle=function(){cy.nodes().forEach((function(t){t.style({"background-image":t.data("background-image"),width:t.data("bbox").w,height:t.data("bbox").h,"border-width":t.data("border-width"),"border-color":t.data("border-color"),"background-color":t.data("background-color"),"background-opacity":t.data("background-opacity"),"background-fit":"cover","background-position-x":"50%","background-position-y":"50%","text-wrap":"wrap","font-size":t.data("font-size"),color:t.data("color")}),t.data("label")&&t.style({label:t.data("label")})})),cy.edges().forEach((function(t){t.style({width:t.data("width"),"line-color":t.data("line-color")})}))};$("body").on("change","#inputConstraint",(function(t,e){var n=this.files[0]||e;if(n){var a=n.name.split(".").pop(),o=new FileReader;o.onload=function(t){var e=t.target.result;if("json"==a){constraints.fixedNodeConstraint=void 0,constraints.alignmentConstraint=void 0,constraints.relativePlacementConstraint=void 0;let t=JSON.parse(e);t.fixedNodeConstraint&&(constraints.fixedNodeConstraint=t.fixedNodeConstraint),t.alignmentConstraint&&(constraints.alignmentConstraint=t.alignmentConstraint),t.relativePlacementConstraint&&(constraints.relativePlacementConstraint=t.relativePlacementConstraint),clearConstraintListTable(),fillConstraintListTableFromConstraints()}},o.addEventListener("loadend",(function(){})),o.readAsText(n)}else alert("Failed to load file");$("#inputFile").val(null)})),document.getElementById("exportConstraint").addEventListener("click",(function(){let t=JSON.stringify(constraints,null,2);download("constraint.json",t)}));let download=function(t,e){var n=document.createElement("a");if(n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),document.createEvent){var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!0),n.dispatchEvent(a)}else n.click()},sampleFileNames={sample5:unix,sample5_constraints:unix_constraints,sample6:chalk,sample6_constraints:chalk_constraints,sample7:uwsn,sample7_constraints:uwsn_constraints,sample8:call_graph,sample8_constraints:callGraph_constraints,sample9:wsn,sample9_constraints:wsn_constraints};document.getElementById("sample").addEventListener("change",(function(){cy.startBatch(),cy.elements().remove(),cy.style().clear();var t=document.getElementById("sample"),e=t.options[t.selectedIndex].index;function n(t){cy.nodes().forEach((function(t){let e=40*Math.random()+30;t.css("width",e),t.css("height",e)})),cy.style(defaultStylesheet),clearConstraintListTable(),constraints.fixedNodeConstraint=void 0,constraints.alignmentConstraint=void 0,constraints.relativePlacementConstraint=void 0,0==t&&(sample1_constraints.fixedNodeConstraint&&(constraints.fixedNodeConstraint=JSON.parse(JSON.stringify(sample1_constraints.fixedNodeConstraint))),clearConstraintListTable(),fillConstraintListTableFromConstraints()),1==t&&(sample2_constraints.alignmentConstraint&&(constraints.alignmentConstraint=JSON.parse(JSON.stringify(sample2_constraints.alignmentConstraint))),clearConstraintListTable(),fillConstraintListTableFromConstraints()),2==t&&(sample3_constraints.relativePlacementConstraint&&(constraints.relativePlacementConstraint=JSON.parse(JSON.stringify(sample3_constraints.relativePlacementConstraint))),clearConstraintListTable(),fillConstraintListTableFromConstraints()),3==t&&(sample4_constraints.fixedNodeConstraint&&(constraints.fixedNodeConstraint=JSON.parse(JSON.stringify(sample4_constraints.fixedNodeConstraint))),sample4_constraints.alignmentConstraint&&(constraints.alignmentConstraint=JSON.parse(JSON.stringify(sample4_constraints.alignmentConstraint))),sample4_constraints.relativePlacementConstraint&&(constraints.relativePlacementConstraint=JSON.parse(JSON.stringify(sample4_constraints.relativePlacementConstraint))),clearConstraintListTable(),fillConstraintListTableFromConstraints())}if(0==e?(cy.add(elements1),n(e)):1==e?(cy.add(elements2),n(e)):2==e?(cy.add(elements3),n(e)):3==e?(cy.add(elements4),n(e)):4==e&&(cy.add(elements5),n(e)),sampleFileNames[t.value]){let e=sampleFileNames[t.value];cy.json(e),cy.nodes().forEach((function(t){t.style({width:t.data("bbox").w,height:t.data("bbox").h,"border-width":t.data("border-width")}),"process"===t.data("class")||"association"===t.data("class")||"dissociation"===t.data("class")?t.style({"background-color":t.data("background-color"),"background-opacity":.3}):t.style({"background-image":t.data("background-image"),"background-opacity":t.data("background-opacity"),"background-fit":"contain","background-position-x":"50%","background-position-y":"50%"}),t.data("label")&&t.style({label:t.data("label"),"text-wrap":"wrap","font-size":t.data("font-size"),color:t.data("color")})})),constraints.fixedNodeConstraint=void 0,constraints.alignmentConstraint=void 0,constraints.relativePlacementConstraint=void 0;let n=sampleFileNames[t.value+"_constraints"];n.fixedNodeConstraint&&(constraints.fixedNodeConstraint=JSON.parse(JSON.stringify(n.fixedNodeConstraint))),n.alignmentConstraint&&(constraints.alignmentConstraint=JSON.parse(JSON.stringify(n.alignmentConstraint))),n.relativePlacementConstraint&&(constraints.relativePlacementConstraint=JSON.parse(JSON.stringify(n.relativePlacementConstraint))),clearConstraintListTable(),fillConstraintListTableFromConstraints()}if(cy.endBatch(),4==e)cy.nodes().not(":parent").positions((function(t,e){return{x:elements5_positions[e].x,y:elements5_positions[e].y}})),cy.layout({name:"preset",fit:!0,animate:!0,animationDuration:1e3,animationEasing:void 0}).run();else{let t=Object.assign({},options);t.step="all",cy.layout(t).run()}onLoad(),document.getElementById("nodeList").addEventListener("change",(function(){document.getElementById("fixedNodeX").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("x")),document.getElementById("fixedNodeY").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("y"))}))}));let options={name:"fcose",quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nestingFactor:.1,gravityRangeCompound:1.5,gravityCompound:1};document.getElementById("randomizeButton").addEventListener("click",(function(){cy.layout({name:"random",animate:!0}).run()})),document.getElementById("fcoseButton").addEventListener("click",(function(){let t=Object.assign({},options);t.step="all",t.randomize=!document.getElementById("incremental").checked,"sample6"==document.getElementById("sample").value&&(t.nestingFactor=.4,t.gravityRangeCompound=0,t.gravityCompound=3),"sample8"==document.getElementById("sample").value&&(t.idealEdgeLength=70),t.fixedNodeConstraint=constraints.fixedNodeConstraint?constraints.fixedNodeConstraint:void 0,t.alignmentConstraint=constraints.alignmentConstraint?constraints.alignmentConstraint:void 0,t.relativePlacementConstraint=constraints.relativePlacementConstraint?constraints.relativePlacementConstraint:void 0;let e=cy.layout(t);e.one("layoutstop",(function(t){document.getElementById("fixedNodeX").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("x")),document.getElementById("fixedNodeY").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("y"))})),cy.layoutUtilities("get").setOption("randomize",t.randomize),e.run()})),document.getElementById("draftButton").addEventListener("click",(function(){let t=Object.assign({},options);t.quality="draft",t.fixedNodeConstraint=constraints.fixedNodeConstraint?constraints.fixedNodeConstraint:void 0,t.alignmentConstraint=constraints.alignmentConstraint?constraints.alignmentConstraint:void 0,t.relativePlacementConstraint=constraints.relativePlacementConstraint?constraints.relativePlacementConstraint:void 0;let e=cy.layout(t);e.one("layoutstop",(function(t){document.getElementById("fixedNodeX").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("x")),document.getElementById("fixedNodeY").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("y"))})),cy.layoutUtilities("get").setOption("randomize",!0),e.run()})),document.getElementById("transformButton").addEventListener("click",(function(){let t=Object.assign({},options);t.step="transformed",t.fixedNodeConstraint=constraints.fixedNodeConstraint?constraints.fixedNodeConstraint:void 0,t.alignmentConstraint=constraints.alignmentConstraint?constraints.alignmentConstraint:void 0,t.relativePlacementConstraint=constraints.relativePlacementConstraint?constraints.relativePlacementConstraint:void 0;let e=cy.layout(t);e.one("layoutstop",(function(t){document.getElementById("fixedNodeX").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("x")),document.getElementById("fixedNodeY").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("y"))})),e.run()})),document.getElementById("enforceButton").addEventListener("click",(function(){let t=Object.assign({},options);t.step="enforced",t.fixedNodeConstraint=constraints.fixedNodeConstraint?constraints.fixedNodeConstraint:void 0,t.alignmentConstraint=constraints.alignmentConstraint?constraints.alignmentConstraint:void 0,t.relativePlacementConstraint=constraints.relativePlacementConstraint?constraints.relativePlacementConstraint:void 0;let e=cy.layout(t);e.one("layoutstop",(function(t){document.getElementById("fixedNodeX").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("x")),document.getElementById("fixedNodeY").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("y"))})),e.run()})),document.getElementById("coseButton").addEventListener("click",(function(){let t=Object.assign({},options);"sample6"==document.getElementById("sample").value&&(t.nestingFactor=.4,t.gravityRangeCompound=0,t.gravityCompound=3),"sample8"==document.getElementById("sample").value&&(t.idealEdgeLength=70),t.fixedNodeConstraint=constraints.fixedNodeConstraint?constraints.fixedNodeConstraint:void 0,t.alignmentConstraint=constraints.alignmentConstraint?constraints.alignmentConstraint:void 0,t.relativePlacementConstraint=constraints.relativePlacementConstraint?constraints.relativePlacementConstraint:void 0,t.randomize=!1,t.step="cose";let e=cy.layout(t);e.one("layoutstop",(function(t){document.getElementById("fixedNodeX").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("x")),document.getElementById("fixedNodeY").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("y"))})),cy.layoutUtilities("get").setOption("randomize",t.randomize),e.run()}));let onLoad=function(){let t="<select id='nodeList' class='custom-select custom-select-sm' style='width:auto;' onchange='onSelect()'>",e=cy.nodes().not(":parent");for(let n=0;n<e.length;n++){let a=e[n],o=a.data("label")?a.data("label"):a.id();o.length>15&&(o=o.substring(0,12).concat("...")),t+="<option value='"+cy.nodes().not(":parent")[n].id()+"'>"+o+"</option>"}document.getElementById("nodeListColumn").innerHTML=t,document.getElementById("fixedNodeX").value=Math.round(cy.nodes().not(":parent")[0].position("x")),document.getElementById("fixedNodeY").value=Math.round(cy.nodes().not(":parent")[0].position("y"));let n="<select id='nodeListRP1' class='custom-select custom-select-sm' style='width:auto;' onchange='onSelectRP1()'>";for(let t=0;t<e.length;t++){let a=e[t],o=a.data("label")?a.data("label"):a.id();o.length>15&&(o=o.substring(0,12).concat("...")),n+="<option value="+cy.nodes().not(":parent")[t].id()+">"+o+"</option>"}let a="<select id='nodeListRP2' class='custom-select custom-select-sm' style='width:auto;' onchange='onSelectRP2()'>";for(let t=0;t<e.length;t++){let n=e[t],o=n.data("label")?n.data("label"):n.id();o.length>15&&(o=o.substring(0,12).concat("...")),a+="<option value="+cy.nodes().not(":parent")[t].id()+">"+o+"</option>"}document.getElementById("nodeListColumnRP1").innerHTML=n,document.getElementById("nodeListColumnRP2").innerHTML=a},onSelect=function(){let t=document.getElementById("nodeList").value;cy.elements().unselect(),cy.getElementById(t).select()},onSelectRP1=function(){let t=document.getElementById("nodeListRP1").value;cy.elements().unselect(),cy.getElementById(t).select()},onSelectRP2=function(){let t=document.getElementById("nodeListRP2").value;cy.elements().unselect(),cy.getElementById(t).select()};document.addEventListener("DOMContentLoaded",(function(){document.getElementById("nodeList").addEventListener("change",(function(){document.getElementById("fixedNodeX").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("x")),document.getElementById("fixedNodeY").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("y"))}))})),cy.ready((function(t){onLoad()})),document.getElementById("nodeList").addEventListener("change",(function(){document.getElementById("fixedNodeX").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("x")),document.getElementById("fixedNodeY").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("y"))})),cy.on("position","node",(function(t){t.target.id()==document.getElementById("nodeList").value&&(document.getElementById("fixedNodeX").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("x")),document.getElementById("fixedNodeY").value=Math.round(cy.getElementById(document.getElementById("nodeList").value).position("y")))}));let constraintListTable=document.getElementById("constraintListTable");document.getElementById("fixedNode").addEventListener("click",(function(){let t=document.getElementById("nodeList").value,e=!1;if(constraints.fixedNodeConstraint&&constraints.fixedNodeConstraint.forEach((function(n){n.nodeId==t&&(e=!0)})),!e){let e={nodeId:t,position:Object.assign({},{x:parseInt(document.getElementById("fixedNodeX").value),y:parseInt(document.getElementById("fixedNodeY").value)})};constraints.fixedNodeConstraint?constraints.fixedNodeConstraint.push(e):constraints.fixedNodeConstraint=[e],addToHistory("Fixed",[t],e.position)}})),document.getElementById("verticalAlignment").addEventListener("click",(function(){if(cy.nodes(":selected").not(":parent").length>0){let t=[];cy.nodes(":selected").not(":parent").forEach((function(e){t.push(e.id())})),constraints.alignmentConstraint?constraints.alignmentConstraint.vertical?constraints.alignmentConstraint.vertical.push(t):constraints.alignmentConstraint.vertical=[t]:(constraints.alignmentConstraint={},constraints.alignmentConstraint.vertical=[t]),addToHistory("Alignment",t,"vertical")}})),document.getElementById("horizontalAlignment").addEventListener("click",(function(){if(cy.nodes(":selected").not(":parent").length>0){let t=[];cy.nodes(":selected").not(":parent").forEach((function(e){t.push(e.id())})),constraints.alignmentConstraint?constraints.alignmentConstraint.horizontal?constraints.alignmentConstraint.horizontal.push(t):constraints.alignmentConstraint.horizontal=[t]:(constraints.alignmentConstraint={},constraints.alignmentConstraint.horizontal=[t]),addToHistory("Alignment",t,"horizontal")}})),document.getElementById("relativePlacement").addEventListener("click",(function(){let t=document.getElementById("nodeListRP1").value,e=document.getElementById("nodeListRP2").value,n=!1;if(constraints.relativePlacementConstraint&&constraints.relativePlacementConstraint.forEach((function(a){a.left?(a.left==t&&a.right==e||a.left==e&&a.right==t)&&"left-right"==document.getElementById("directionList").value&&(n=!0):(a.top==t&&a.bottom==e||a.top==e&&a.bottom==t)&&"top-bottom"==document.getElementById("directionList").value&&(n=!0)})),t!=e&&!n){let n;n="left-right"==document.getElementById("directionList").value?{left:t,right:e,gap:document.getElementById("gap").value?parseInt(document.getElementById("gap").value):void 0}:{top:t,bottom:e,gap:document.getElementById("gap").value?parseInt(document.getElementById("gap").value):void 0},constraints.relativePlacementConstraint||(constraints.relativePlacementConstraint=[]),constraints.relativePlacementConstraint.push(n),"left-right"==document.getElementById("directionList").value?addToHistory("Relative",[t,e],"l-r - "+(document.getElementById("gap").value?parseInt(document.getElementById("gap").value):parseInt(cy.getElementById(t).width()/2+cy.getElementById(e).width()/2+50))):addToHistory("Relative",[t,e],"t-b - "+(document.getElementById("gap").value?parseInt(document.getElementById("gap").value):parseInt(cy.getElementById(t).height()/2+cy.getElementById(e).height()/2+50)))}}));let addToHistory=function(t,e,n){let a=constraintListTable.insertRow(),o=a.insertCell(0),i=a.insertCell(0),s=a.insertCell(0);if(a.insertCell(0).innerHTML=t,"Fixed"==t){let t=cy.getElementById(e[0]).css("label")?cy.getElementById(e[0]).css("label"):e;t.length>15&&(t=t.substring(0,12).concat("...")),s.innerHTML=t,i.innerHTML="x: "+n.x+" y: "+n.y}else if("Alignment"==t){let t="";e.forEach((function(e,n){let a=cy.getElementById(e).css("label")?cy.getElementById(e).css("label"):e;a.length>15&&(a=a.substring(0,12).concat("...")),t+=0==n?a:" - "+a})),s.innerHTML=t,i.innerHTML=n}else{let t="";e.forEach((function(e,n){let a=cy.getElementById(e).css("label")?cy.getElementById(e).css("label"):e;a.length>15&&(a=a.substring(0,12).concat("...")),t+=0==n?a:" - "+a})),s.innerHTML=t,i.innerHTML=n}let d=cy.viewUtilities({highlightStyles:[{node:{"background-color":"#da14ff","border-color":"#980eb2"},edge:{}}]}),r=$("#constraintListTable").find("tr").eq(a.rowIndex),l=cy.collection();e.forEach((function(t){l=l.union(cy.getElementById(t))}));let c=document.createElement("button");c.setAttribute("class","close"),c.setAttribute("aria-label","Close"),c.onclick="Fixed"==t?function(t){deleteRowElements(a,e),d.removeHighlights(l.nodes())}:function(t){deleteRowElements(a,e,n),d.removeHighlights(l.nodes())};let g=document.createElement("span");g.setAttribute("aria-hidden","true"),g.style.color="red",g.innerHTML="&times",c.appendChild(g),o.appendChild(c),r.hover((function(){d.highlight(l.nodes(),0)}),(function(){d.removeHighlights(l.nodes())}))},deleteRowElements=function(t,e,n){let a=t.cells[0].innerHTML;"Fixed"==a?(constraints.fixedNodeConstraint.forEach((function(t,n){t.nodeId==e[0]&&constraints.fixedNodeConstraint.splice(n,1)})),0==constraints.fixedNodeConstraint.length&&(constraints.fixedNodeConstraint=void 0)):"Alignment"==a?"vertical"==n?constraints.alignmentConstraint.vertical.forEach((function(t,n){if(t.length==e.length){let a=!0;t.forEach((function(t,n){t!=e[n]&&(a=!1)})),a&&(constraints.alignmentConstraint.vertical.splice(n,1),0==constraints.alignmentConstraint.vertical.length&&(delete constraints.alignmentConstraint.vertical,constraints.alignmentConstraint.horizontal||(constraints.alignmentConstraint=void 0)))}})):constraints.alignmentConstraint.horizontal.forEach((function(t,n){if(t.length==e.length){let a=!0;t.forEach((function(t,n){t!=e[n]&&(a=!1)})),a&&(constraints.alignmentConstraint.horizontal.splice(n,1),0==constraints.alignmentConstraint.horizontal.length&&(delete constraints.alignmentConstraint.horizontal,constraints.alignmentConstraint.vertical||(constraints.alignmentConstraint=void 0)))}})):constraints.relativePlacementConstraint.forEach((function(t,a){"l"==n.substring(0,1)?t.left&&t.left==e[0]&&t.right==e[1]&&(constraints.relativePlacementConstraint.splice(a,1),0==constraints.relativePlacementConstraint.length&&(constraints.relativePlacementConstraint=void 0)):t.top&&t.top==e[0]&&t.bottom==e[1]&&(constraints.relativePlacementConstraint.splice(a,1),0==constraints.relativePlacementConstraint.length&&(constraints.relativePlacementConstraint=void 0))})),constraintListTable.deleteRow(t.rowIndex)},clearConstraintListTable=function(){if(constraintListTable.rows.length>1){let t=constraintListTable.rows.length;for(let e=0;e<t-1;e++)constraintListTable.deleteRow(1)}},fillConstraintListTableFromConstraints=function(){constraints.fixedNodeConstraint&&constraints.fixedNodeConstraint.forEach((function(t){addToHistory("Fixed",[t.nodeId],t.position)})),constraints.alignmentConstraint&&(constraints.alignmentConstraint.vertical&&constraints.alignmentConstraint.vertical.forEach((function(t){addToHistory("Alignment",t,"vertical")})),constraints.alignmentConstraint.horizontal&&constraints.alignmentConstraint.horizontal.forEach((function(t){addToHistory("Alignment",t,"horizontal")}))),constraints.relativePlacementConstraint&&constraints.relativePlacementConstraint.forEach((function(t){t.left?addToHistory("Relative",[t.left,t.right],"l-r - "+(t.gap?parseInt(t.gap):parseInt(cy.getElementById(t.left).width()/2+cy.getElementById(t.right).width()/2+50))):addToHistory("Relative",[t.top,t.bottom],"t-b - "+(t.gap?parseInt(t.gap):parseInt(cy.getElementById(t.top).height()/2+cy.getElementById(t.bottom).height()/2+50)))}))},elements1={nodes:[{data:{id:"n1"}},{data:{id:"n2"}},{data:{id:"n3",parent:"n8"}},{data:{id:"n5"}},{data:{id:"n6",parent:"n8"}},{data:{id:"n7",parent:"n8"}},{data:{id:"n8"}},{data:{id:"f1"},classes:["fixed"]},{data:{id:"f2"},classes:["fixed"]},{data:{id:"f3",parent:"n8"},classes:["fixed"]}],edges:[{data:{source:"n1",target:"f1"}},{data:{source:"n1",target:"n3"}},{data:{source:"f1",target:"n2"}},{data:{source:"f1",target:"n3"}},{data:{source:"n3",target:"f2"}},{data:{source:"f2",target:"n5"}},{data:{source:"n5",target:"n8"}},{data:{source:"n6",target:"n3"}},{data:{source:"n6",target:"n7"}},{data:{source:"n6",target:"f3"}}]},elements2={nodes:[{data:{id:"n1",parent:"n6"}},{data:{id:"n2",parent:"n6"}},{data:{id:"n3"}},{data:{id:"n4"}},{data:{id:"n5",parent:"n8"}},{data:{id:"n6"}},{data:{id:"n7"}},{data:{id:"n8"}},{data:{id:"v1",parent:"n6"},classes:["alignment"]},{data:{id:"v2"},classes:["alignment"]},{data:{id:"v3",parent:"n8"},classes:["alignment"]},{data:{id:"v4",parent:"n8"},classes:["alignment"]},{data:{id:"v5",parent:"n5"},classes:["alignment"]},{data:{id:"h1"},classes:["alignment"]},{data:{id:"h2"},classes:["alignment"]},{data:{id:"h3"},classes:["alignment"]},{data:{id:"h4",parent:"n7"},classes:["alignment"]},{data:{id:"h5",parent:"n7"},classes:["alignment"]},{data:{id:"vh1",parent:"n6"},classes:["alignment"]},{data:{id:"vh2",parent:"n5"},classes:["alignment"]}],edges:[{data:{source:"v1",target:"vh1"}},{data:{source:"v1",target:"n1"}},{data:{source:"n1",target:"n2"}},{data:{source:"n2",target:"vh1"}},{data:{source:"n6",target:"h1"}},{data:{source:"h1",target:"h2"}},{data:{source:"n6",target:"n3"}},{data:{source:"n3",target:"v2"}},{data:{source:"n3",target:"h4"}},{data:{source:"h4",target:"h5"}},{data:{source:"h4",target:"v3"}},{data:{source:"v3",target:"v4"}},{data:{source:"v3",target:"n5"}},{data:{source:"v5",target:"vh2"}},{data:{source:"v3",target:"n4"}},{data:{source:"h3",target:"n8"}},{data:{source:"n4",target:"h3"}}]},elements3={nodes:[{data:{id:"r1",parent:"n8"},classes:["relative"]},{data:{id:"r2",parent:"n8"},classes:["relative"]},{data:{id:"r3",parent:"n8"},classes:["relative"]},{data:{id:"r4"},classes:["relative"]},{data:{id:"r5"},classes:["relative"]},{data:{id:"r6",parent:"n7"},classes:["relative"]},{data:{id:"r7",parent:"n10"},classes:["relative"]},{data:{id:"r8",parent:"n10"},classes:["relative"]},{data:{id:"n1",parent:"n7"}},{data:{id:"n2"}},{data:{id:"n3"}},{data:{id:"n4"}},{data:{id:"n5"}},{data:{id:"n6"}},{data:{id:"n7",parent:"n10"}},{data:{id:"n8"}},{data:{id:"n9"}},{data:{id:"n10"}}],edges:[{data:{source:"r6",target:"n1"}},{data:{source:"r6",target:"n3"}},{data:{source:"n1",target:"r8"}},{data:{source:"n1",target:"r5"}},{data:{source:"n1",target:"r7"}},{data:{source:"n2",target:"n3"}},{data:{source:"n2",target:"r2"}},{data:{source:"n2",target:"n4"}},{data:{source:"r5",target:"n5"}},{data:{source:"r5",target:"n6"}},{data:{source:"r2",target:"r1"}},{data:{source:"r2",target:"r3"}},{data:{source:"n7",target:"n9"}},{data:{source:"n5",target:"n6"}},{data:{source:"n5",target:"r4"}}]},elements4=[{group:"nodes",data:{id:"n1"}},{group:"nodes",data:{id:"n2"}},{group:"nodes",data:{id:"n3"}},{group:"nodes",data:{id:"n4"}},{group:"nodes",data:{id:"n5"}},{group:"nodes",data:{id:"n6",parent:"n24"}},{group:"nodes",data:{id:"n7",parent:"n24"}},{group:"nodes",data:{id:"n8",parent:"n24"}},{group:"nodes",data:{id:"n9"}},{group:"nodes",data:{id:"n10",parent:"n28"}},{group:"nodes",data:{id:"n11",parent:"n28"}},{group:"nodes",data:{id:"n12",parent:"n28"}},{group:"nodes",data:{id:"n13",parent:"n28"}},{group:"nodes",data:{id:"n14",parent:"n28"}},{group:"nodes",data:{id:"n15"}},{group:"nodes",data:{id:"n16"}},{group:"nodes",data:{id:"n17"}},{group:"nodes",data:{id:"n18"}},{group:"nodes",data:{id:"n19"}},{group:"nodes",data:{id:"n20",parent:"n26"}},{group:"nodes",data:{id:"n21",parent:"n26"}},{group:"nodes",data:{id:"n22",parent:"n27"}},{group:"nodes",data:{id:"n23",parent:"n25"}},{group:"nodes",data:{id:"n24"}},{group:"nodes",data:{id:"n25"}},{group:"nodes",data:{id:"n26",parent:"n30"}},{group:"nodes",data:{id:"n27",parent:"n29"}},{group:"nodes",data:{id:"n28",parent:"n29"}},{group:"nodes",data:{id:"n29",parent:"n30"}},{group:"nodes",data:{id:"n30"}},{group:"nodes",data:{id:"f1",parent:"n29"},classes:["fixed"]},{group:"nodes",data:{id:"f2",parent:"n28"},classes:["fixed"]},{group:"nodes",data:{id:"h1"},classes:["alignment"]},{group:"nodes",data:{id:"h2"},classes:["alignment"]},{group:"nodes",data:{id:"h3"},classes:["alignment"]},{group:"nodes",data:{id:"v1",parent:"n24"},classes:["alignment"]},{group:"nodes",data:{id:"v2",parent:"n25"},classes:["alignment"]},{group:"nodes",data:{id:"v3"},classes:["alignment"]},{group:"nodes",data:{id:"v4"},classes:["alignment"]},{group:"nodes",data:{id:"h4r"},classes:["alignment"]},{group:"nodes",data:{id:"r1",parent:"n29"},classes:["relative"]},{group:"nodes",data:{id:"r2",parent:"n29"},classes:["relative"]},{group:"nodes",data:{id:"r3"},classes:["relative"]},{group:"edges",data:{id:"e2",source:"n2",target:"n3"}},{group:"edges",data:{id:"e3",source:"n1",target:"n2"}},{group:"edges",data:{id:"e4",source:"n3",target:"v1"}},{group:"edges",data:{id:"e5",source:"n2",target:"v1"}},{group:"edges",data:{id:"e6",source:"v1",target:"n4"}},{group:"edges",data:{id:"e8",source:"v1",target:"n5"}},{group:"edges",data:{id:"e9",source:"v1",target:"n6"}},{group:"edges",data:{id:"e10",source:"v1",target:"n7"}},{group:"edges",data:{id:"e12",source:"n6",target:"n8"}},{group:"edges",data:{id:"e13",source:"h1",target:"n16"}},{group:"edges",data:{id:"e14",source:"v2",target:"n23"}},{group:"edges",data:{id:"e15",source:"n16",target:"n15"}},{group:"edges",data:{id:"e16",source:"n16",target:"h2"}},{group:"edges",data:{id:"e17",source:"n15",target:"n17"}},{group:"edges",data:{id:"e18",source:"h3",target:"v3"}},{group:"edges",data:{id:"e19",source:"v3",target:"n18"}},{group:"edges",data:{id:"e20",source:"n17",target:"n19"}},{group:"edges",data:{id:"e21",source:"n18",target:"n19"}},{group:"edges",data:{id:"e22",source:"h2",target:"n19"}},{group:"edges",data:{id:"e23",source:"n19",target:"h3"}},{group:"edges",data:{id:"e25",source:"v4",target:"n20"}},{group:"edges",data:{id:"e26",source:"n20",target:"n21"}},{group:"edges",data:{id:"e27",source:"n25",target:"f1"}},{group:"edges",data:{id:"e29",source:"f1",target:"n26"}},{group:"edges",data:{id:"e30",source:"f1",target:"r2"}},{group:"edges",data:{id:"e31",source:"f1",target:"r1"}},{group:"edges",data:{id:"e33",source:"h3",target:"v2"}},{group:"edges",data:{id:"e35",source:"f2",target:"n11"}},{group:"edges",data:{id:"e36",source:"f2",target:"n10"}},{group:"edges",data:{id:"e37",source:"n11",target:"n10"}},{group:"edges",data:{id:"e38",source:"n12",target:"n13"}},{group:"edges",data:{id:"e39",source:"n12",target:"n14"}},{group:"edges",data:{id:"e40",source:"h2",target:"n27"}},{group:"edges",data:{id:"e41",source:"n9",target:"r3"}},{group:"edges",data:{id:"e42",source:"n9",target:"h4r"}},{group:"edges",data:{id:"e43",source:"r3",target:"h4r"}},{group:"edges",data:{id:"e44",source:"n11",target:"r3"}},{group:"edges",data:{id:"e45",source:"n14",target:"r3"}}],elements5={nodes:[{data:{id:"r1"},classes:["relative"],position:{x:318,y:150}},{data:{id:"r2"},classes:["relative"],position:{x:413,y:148}},{data:{id:"r3"},classes:["relative"],position:{x:128,y:-151}},{data:{id:"r4"},classes:["relative"],position:{x:132,y:-38}},{data:{id:"f1v",parent:"n8"},classes:["fixed"],position:{x:-79,y:276}},{data:{id:"f2h",parent:"n6"},classes:["fixed"],position:{x:96,y:82}},{data:{id:"v1",parent:"n5"},classes:["alignment"],position:{x:-290,y:153}},{data:{id:"v2",parent:"n5"},classes:["alignment"],position:{x:-197,y:152}},{data:{id:"v3",parent:"n8"},classes:["alignment"],position:{x:-85,y:177}},{data:{id:"h1",parent:"n7"},classes:["alignment"],position:{x:1,y:-9}},{data:{id:"h2",parent:"n7"},classes:["alignment"],position:{x:0,y:-104}},{data:{id:"n0",parent:"n6"},position:{x:186,y:219}},{data:{id:"n1",parent:"n6"},position:{x:197,y:122}},{data:{id:"n2",parent:"n6"},position:{x:93,y:186}},{data:{id:"n3"},position:{x:-267,y:20}},{data:{id:"n4"},position:{x:-167,y:-10}},{data:{id:"n5",parent:"n8"}},{data:{id:"n6"}},{data:{id:"n7"}},{data:{id:"n8"}}],edges:[{data:{source:"n0",target:"n1"}},{data:{source:"n0",target:"n2"}},{data:{source:"n6",target:"r1"}},{data:{source:"n1",target:"f2h"}},{data:{source:"r1",target:"r2"}},{data:{source:"n2",target:"f2h"}},{data:{source:"n6",target:"r4"}},{data:{source:"n3",target:"n4"}},{data:{source:"n3",target:"n8"}},{data:{source:"n4",target:"v3"}},{data:{source:"r4",target:"h1"}},{data:{source:"r4",target:"r3"}},{data:{source:"h1",target:"h2"}},{data:{source:"v1",target:"v2"}},{data:{source:"v3",target:"n5"}},{data:{source:"h1",target:"v3"}},{data:{source:"v3",target:"f1v"}}]},elements5_positions=[{x:318,y:150},{x:413,y:148},{x:128,y:-151},{x:132,y:-38},{x:-79,y:276},{x:96,y:82},{x:-290,y:153},{x:-197,y:152},{x:-85,y:177},{x:1,y:-9},{x:0,y:-104},{x:186,y:219},{x:197,y:122},{x:93,y:186},{x:-267,y:20},{x:-167,y:-10},{x:318,y:150},{x:318,y:150}],sample1_constraints={fixedNodeConstraint:[{nodeId:"f1",position:{x:-150,y:-100}},{nodeId:"f2",position:{x:-50,y:-150}},{nodeId:"f3",position:{x:100,y:150}}]},sample2_constraints={alignmentConstraint:{vertical:[["v1","v2","vh1"],["v3","v4","v5","vh2"]],horizontal:[["h1","h2","h3"],["h4","h5","vh1","vh2"]]}},sample3_constraints={relativePlacementConstraint:[{left:"r1",right:"r2",gap:100},{top:"r1",bottom:"r2",gap:100},{left:"r2",right:"r3",gap:200},{top:"r4",bottom:"r5",gap:150},{left:"r6",right:"r7",gap:150},{top:"r8",bottom:"r7",gap:100}]},sample4_constraints={fixedNodeConstraint:[{nodeId:"f1",position:{x:-100,y:0}},{nodeId:"f2",position:{x:300,y:0}}],alignmentConstraint:{horizontal:[["h1","h2","h3","h4r"]],vertical:[["v1","v2","v3","v4"]]},relativePlacementConstraint:[{top:"r1",bottom:"r2",gap:150},{left:"r3",right:"h4r",gap:150}]};